<script type="text/javascript">
  var clevertap = {
    event: [],
    profile: [],
    account: [],
    onUserLogin: [],
    notifications: [],
    privacy: [],
  };

  // Replace with your CleverTap account ID
  clevertap.account.push({ id: "WRZ-757-6W7Z" });
  clevertap.privacy.push({ optOut: false });
  clevertap.privacy.push({ useIP: true });

  // Load the SDK
  (function () {
    var wzrk = document.createElement("script");
    wzrk.type = "text/javascript";
    wzrk.async = true;
    wzrk.src =
      ("https:" == document.location.protocol
        ? "https://d2r1yp2w7bby2u.cloudfront.net"
        : "http://static.clevertap.com") + "/js/clevertap.min.js";
    wzrk.onload = function () {
      // Wait for SDK to load, then fetch ID
      clevertap.onUserLogin.push({
        Site: {
          Identity: "user_001", // Provide a unique user ID
          Email: "test@example.com",
          Name: "Test User",
        },
      });

      // Call this after setting identity
      clevertap.getCleverTapID(function (ctid) {
        console.log("CleverTap ID:", ctid);
      });

      // Optional: Get user location
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function (position) {
          var lat = position.coords.latitude;
          var lng = position.coords.longitude;
          clevertap.setLocation(lat, lng);
        });
      }
    };

    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(wzrk, s);
  })();

  clevertap.notificationCallback = function (msg) {
    clevertap.raiseNotificationViewed();
    clevertap.raiseNotificationClicked();
    console.log("Notification received:", JSON.stringify(msg));
  };
</script>
